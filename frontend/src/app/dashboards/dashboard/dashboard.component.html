<app-edit-dashboard (edited)="onEdited($event)" (closed)="onClosed()" [display]="displayEditDashboard"
                    [dashboardTitle]="editTitle"></app-edit-dashboard>
<div class="site-wrap">
  <div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-lg-6">
      <div class="title">DASHBOARDS</div>
      <hr *ngIf="!instanceId">
    </div>
  </div>
  <!--Item showAddItemPopup() -->
  <p-tabMenu [model]="dashboardMenuItems" [activeItem]="activeDashboardItem" *ngIf="instanceId"></p-tabMenu>
  <div class="workspace" *ngIf="instanceId">
    <div *ngIf="activeDashboardItem && dashboardMenuItems.length > 1" class="dashboard-options">
      <!-- <button pButton type="button" label="Add chart" class="btnedit ui-button-success ui-button-raised " [disabled]="activeDashboardItem == null"
        (click)="showPopupAddChart()"></button>    
      <button pButton type="button" label="Edit " class="btnedit ui-button-primary ui-button-raised " [disabled]="activeDashboardItem == null"
        (click)="showCreatePopup(false)"></button>
      <button pButton type="button" label="Delete " class="btnedit ui-button-danger ui-button-raised " [disabled]="activeDashboardItem == null"
        (click)="delete()"></button> -->
      <p-tieredMenu #cog [model]="cogItems" [popup]="true"></p-tieredMenu>
      <button #btn type="button" class="gear" pButton icon="fa fa-fw fa-gear" (click)="cog.toggle($event)"></button>
    </div>
    <div>
      <p class="text-pl">Click * -> Add chart or plot</p>
      <div class="img-example">
        <img src="C:\Users\Eugene\Desktop\Tanya\image.png" alt="example" class="img-example"/>
      </div>
    </div>

    <div class="content" *ngIf="activeDashboardItem && dashboardMenuItems.length > 1">
      <div class="charts-area" *ngIf="!isEditMode">
        <app-chart-dashboard [charts]="charts" [filters]="filters">
        </app-chart-dashboard>
      </div>
      <!-- <div class="edit-chart-area" *ngIf="isEditMode">
        <app-chart-builder (addChart)="addChartToDashboard($event)"></app-chart-builder>
      </div> -->
      <!--<router-outlet></router-outlet>-->
    </div>
    <!--<div class="charts-area" *ngIf="activeDashboardItem && dashboardMenuItems.length > 1">-->
    <!--<app-charts></app-charts>-->
    <!--<div class="dashboard-item">-->
    <!--<app-percentage-bar-chart [dataToPlot]="percentageInfoToDisplaySingle"></app-percentage-bar-chart>-->
    <!--</div>-->
    <!--<div class="dashboard-item">-->
    <!--<app-percentage-line-chart [percentageInfo]="percentageInfoToDisplay"></app-percentage-line-chart>-->
    <!--</div>-->

    <!--<div class="dashboard-item">-->
    <!--<app-market-chart [marketStatus]="marketStatusToPlot"></app-market-chart>-->
    <!--</div>-->
    <!--<div class="dashboard-item">-->
    <!--<app-line-chart></app-line-chart>-->
    <!--</div>-->
    <!--<div class="dashboard-item">-->
    <!--<app-multi-series-line-chart></app-multi-series-line-chart>-->
    <!--</div>-->
    <!--<div class="dashboard-item">-->
    <!--<app-bar-chart></app-bar-chart>-->
    <!--</div>-->
    <!--<div class="dashboard-item">-->
    <!--<app-stacked-bar-chart></app-stacked-bar-chart>-->
    <!--</div>-->
    <!--<div class="dashboard-item">-->
    <!--<app-brush-zoom></app-brush-zoom>-->
    <!--</div>-->
    <!--<div class="dashboard-item">-->
    <!--<app-pie-chart></app-pie-chart>-->
    <!--</div>-->
    <!--<div class="dashboard-item">-->
    <!--<app-donut-chart></app-donut-chart>-->
    <!--</div>-->
    <!--</div>-->
  </div>

  <div *ngIf="!instanceId" class="placeholder">
    <div>
      <i class="fa fa-plus"></i> 1. Create a VM instance
    </div>
    <div>
      <i class="fa fa-download"></i> 2. Download the application
    </div>
    <div>
      <i class="fa fa-dashboard"></i> 3. Create your dashboard to track VM activity
    </div>
  </div>

</div>

<p-confirmDialog header="Confirmation " icon="pi pi-exclamation-triangle " width="425 " #cd>
  <p-footer>
    <button pButton type="button " class="ui-button-success ui-button-raised " icon="pi pi-times " label="No "
            (click)="cd.reject() "></button>
    <button pButton type="button " class="ui-button-danger ui-button-raised " icon="pi pi-check " label="Yes "
            (click)="cd.accept() "></button>
  </p-footer>
</p-confirmDialog>
<p-toast position="bottom-right" life="500"></p-toast>


<p-dialog header="Create chart" [(visible)]="popupAddChart" [modal]="true" [responsive]="true" [width]="800"
          [minWidth]="650"
          [minY]="70" [maximizable]="false" [baseZIndex]="10000" [contentStyle]="{'overflow':'visible'}">
  <!--  -->
  <!-- <app-chart-builder (addChart)="addChartToDashboard($event)"></app-chart-builder>-->
  <div class="ui-g ui-fluid">
    <div class="ui-g-3">
      <p class="field">Select chart type: </p>
      <p-dropdown [options]="dropdownType" [(ngModel)]="selectedType" [style]="{'width':'172px'}"></p-dropdown>
      <p>{{selectedType}}</p>
      <p class="field">Select source: </p>
      <p-dropdown [options]="dropdownSource" [(ngModel)]="selectedSource" [style]="{'width':'172px'}"></p-dropdown>
      <p class="field">Is single:
        <p-checkbox formControlName="isSingle" binary="true"></p-checkbox>
      </p>
      <p class="field center">Styles</p>
      <div></div>
      <form [formGroup]="chartForm">
        <p class="field">Y axis label: </p>
        <input size="22" type="text" formControlName="yAxisLabel" pInputText/>
        <p class="field">X axis label: </p>
        <input size="22" type="text" formControlName="xAxisLabel" pInputText/>
      </form>
    </div>
    <div class="ui-g-9">
      <p class="field center">Visualization</p>
      <div class="view-chart" *ngIf="showPreview">
        <app-chart
          [chart]="chartOptions"
          [data]="dataForChart"
          [chartType]="chartType">
        </app-chart>
      </div>
      <!--<div class="view-chart">-->
        <!--<div *ngIf="selectedType==='bar-vertical'">-->
          <!--<ngx-charts-bar-vertical-->
            <!--[view]="view"-->
            <!--[scheme]="colorScheme"-->
            <!--[results]="single1"-->
            <!--[gradient]="gradient"-->
            <!--[xAxis]="showXAxis"-->
            <!--[yAxis]="showYAxis"-->
            <!--[legend]="showLegend"-->
            <!--[showXAxisLabel]="showXAxisLabel"-->
            <!--[showYAxisLabel]="showYAxisLabel"-->
            <!--[xAxisLabel]="xAxisLabel"-->
            <!--[yAxisLabel]="yAxisLabel"-->
            <!--(select)="onSelect($event)">-->
          <!--</ngx-charts-bar-vertical>-->
        <!--</div>-->
        <!--<div *ngIf="selectedType==='line-chart'">-->
          <!--<ngx-charts-line-chart-->
            <!--[view]="view"-->
            <!--[scheme]="colorScheme"-->
            <!--[results]="dataForChart"-->
            <!--[gradient]="gradient"-->
            <!--[xAxis]="showXAxis"-->
            <!--[yAxis]="showYAxis"-->
            <!--[legend]="showLegend"-->
            <!--[showXAxisLabel]="showXAxisLabel"-->
            <!--[showYAxisLabel]="showYAxisLabel"-->
            <!--[xAxisLabel]="xAxisLabel"-->
            <!--[yAxisLabel]="yAxisLabel"-->
            <!--[autoScale]="autoScale"-->
            <!--(select)="onSelect($event)">-->
          <!--</ngx-charts-line-chart>-->
        <!--</div>-->
        <!--<div *ngIf="selectedType==='pie'">-->
          <!--<ngx-charts-pie-chart-->
            <!--[view]="view"-->
            <!--[scheme]="colorScheme"-->
            <!--[results]="single1"-->
            <!--[legend]="showLegend"-->
            <!--[explodeSlices]="explodeSlices"-->
            <!--[labels]="showLabels"-->
            <!--[doughnut]="doughnut"-->
            <!--[gradient]="gradient"-->
            <!--(select)="onSelect($event)">-->
          <!--</ngx-charts-pie-chart>-->
        <!--</div>-->
        <!--<div *ngIf="selectedType==='guage'">-->
          <!--<ngx-charts-gauge-->
            <!--[view]="view"-->
            <!--[scheme]="colorScheme"-->
            <!--[results]="single1"-->
            <!--[min]="0"-->
            <!--[max]="100"-->
            <!--[angleSpan]="240"-->
            <!--[startAngle]="-120"-->
            <!--[units]="'alerts'"-->
            <!--[bigSegments]="10"-->
            <!--[smallSegments]="5"-->
            <!--(select)="onSelect($event)">-->
          <!--</ngx-charts-gauge>-->
        <!--</div>-->
      <!--</div>-->
    </div>
  </div>
  <p-footer>
    <div class="center">
      <button type="button" pButton class="ui-button-raised ui-button-success" (click)="processData()"
              label="Preview"></button>
      <button type="button" pButton class="ui-button-raised ui-button-success" (click)="onCreateChart()"
              label="Save"></button>
      <button type="button" pButton (click)="onCancel()" label="Cancel" class="ui-button-warning"></button>
    </div>
  </p-footer>

</p-dialog>
