<div class="site-wrapper">
  <div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-lg-6">
      <div class="title">{{instanceTitle}}</div>
      <hr>
    </div>
  </div>
  <form [formGroup]="instanceForm" (ngSubmit)="onSubmit()">
    <div class="label">Title:</div>
    <div class="ui-g ui-fluid">
      <div class="ui-g-12 ui-mg-6 ui-lg-6">
        <div class="ui-inputgroup">
          <input pInputText type="text" formControlName="title" pInputText placeholder="Title">
        </div>
      </div>
    </div>

    <div class="invalid" *ngIf="instanceForm.get('title').errors && (instanceForm.get('title').touched ||instanceForm.get('title').dirty)">
        <label>Title is required.</label>
      </div>

    <div class="label">Platform:</div>
    <div class="ui-g ui-fluid">
      <div class="ui-g-12 ui-mg-6 ui-lg-6">
        <div class="ui-inputgroup">
          <p-dropdown [options]="platformsDropdown" [formGroup]="instanceForm" formControlName="platform"></p-dropdown>
        </div>
      </div>
    </div>

    <div class="invalid" *ngIf="instanceForm.get('platform').errors && (instanceForm.get('platform').touched ||instanceForm.get('platform').dirty)">
        <label>Platform is required.</label>
      </div>

    <div class="label">Address:</div>
    <div class="ui-g ui-fluid">
      <div class="ui-g-12 ui-mg-6 ui-lg-6">
        <div class="ui-inputgroup">
          <input pInputText type="text" formControlName="address" pInputText placeholder="Address">
        </div>
      </div>
    </div>

    <div class="invalid" *ngIf="instanceForm.get('address').errors && (instanceForm.get('address').touched ||instanceForm.get('address').dirty)">
        <label>Address is required.</label>
    </div>
    
    <div *ngIf="id" class="label">Identifier:</div>
    <div *ngIf="id" class="ui-g ui-fluid">
      <div class="ui-g-12 ui-mg-6 ui-lg-6">
        <div class="ui-inputgroup identifier">
          <input pInputText type="text" readonly formControlName="guid" pInputText placeholder="Identifier">
          <button pButton type="button" label="Copy" class="ui-button-info" (click)="copyToClipboard(this.instance.guidId)"></button>
        </div>
      </div>
    </div>

    <div class="btn-panel">
      <button pButton type="submit" label="Save" class="ui-button-raised ui-button-success btn-inline-flex" [disabled]="isSaving">
        <p-progressSpinner class="btn-spinner" *ngIf="isSaving" strokeWidth="5"></p-progressSpinner>
      </button>
    </div>
  </form>
</div>
